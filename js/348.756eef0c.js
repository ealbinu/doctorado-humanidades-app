"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[348],{2348:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Me});var o=t(3673);function s(e,a,t,s,i,n){const l=(0,o.up)("estudiante"),r=(0,o.up)("docente"),c=(0,o.up)("coordinador"),d=(0,o.up)("q-page");return s.userData?((0,o.wg)(),(0,o.j4)(d,{key:0,padding:""},{default:(0,o.w5)((()=>["estudiante"==s.userData.group?((0,o.wg)(),(0,o.j4)(l,{key:0})):(0,o.kq)("",!0),"docente"==s.userData.group?((0,o.wg)(),(0,o.j4)(r,{key:1})):(0,o.kq)("",!0),"coordinador"==s.userData.group?((0,o.wg)(),(0,o.j4)(c,{key:2})):(0,o.kq)("",!0)])),_:1})):(0,o.kq)("",!0)}var i=t(1959),n=t(3617),l=t(2323);const r={key:0,class:"row q-col-gutter-md"},c={class:"col-12"},d={class:"text-center q-mt-md"},u={class:"col-sm-4"},p={class:"col-sm-4"},m={class:"col-sm-4"},g={class:"q-mt-xl"},w=(0,o._)("div",{class:"text-h6 text-dark q-my-md"},"Periodos",-1),v={class:"row q-col-gutter-md relative-position"},f={class:"col-12 col-sm-4"},_={class:"text-h6"},h={class:"text-caption text-grey"},W=(0,o._)("span",{class:"text-primary text-bold q-mx-sm"},"- ",-1);function y(e,a,t,s,i,n){const y=(0,o.up)("q-input"),k=(0,o.up)("q-btn"),x=(0,o.up)("q-card-section"),q=(0,o.up)("q-card"),D=(0,o.up)("q-separator"),Z=(0,o.up)("datesprogress"),b=(0,o.up)("asesores"),Q=(0,o.up)("q-inner-loading");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s.userData?((0,o.wg)(),(0,o.iD)("div",r,[(0,o._)("div",c,[(0,o.Wm)(q,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{modelValue:s.userData.tituloInvestigacion,"onUpdate:modelValue":a[0]||(a[0]=e=>s.userData.tituloInvestigacion=e),standout:"bg-primary text-white",label:"Título de Investigación",type:"textarea"},null,8,["modelValue"]),(0,o._)("div",d,[(0,o.Wm)(k,{label:"Actualizar título","no-caps":"",color:"primary",unelevated:"",onClick:a[1]||(a[1]=e=>s.saveThis(s.userData.tituloInvestigacion,"tituloInvestigacion"))})])])),_:1})])),_:1})]),(0,o._)("div",u,[(0,o.Wm)(q,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{readonly:"",label:"Generación",modelValue:s.userData.generacion.name,"onUpdate:modelValue":a[2]||(a[2]=e=>s.userData.generacion.name=e)},null,8,["modelValue"])])),_:1})])),_:1})]),(0,o._)("div",p,[(0,o.Wm)(q,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{readonly:"",label:"Beca",modelValue:s.userData.beca,"onUpdate:modelValue":a[3]||(a[3]=e=>s.userData.beca=e)},null,8,["modelValue"])])),_:1})])),_:1})]),(0,o._)("div",m,[(0,o.Wm)(q,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(y,{readonly:"",label:"Estado",modelValue:s.userData.status,"onUpdate:modelValue":a[4]||(a[4]=e=>s.userData.status=e)},null,8,["modelValue"])])),_:1})])),_:1})])])):(0,o.kq)("",!0),(0,o._)("div",g,[(0,o.Wm)(D,{class:"q-my-md",spaced:""})]),w,(0,o._)("div",v,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.asignaciones,((e,a)=>((0,o.wg)(),(0,o.iD)("div",f,[(0,o.Wm)(q,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o._)("div",_,(0,l.zw)(e.periodo.name),1),(0,o._)("div",h,[(0,o.Uk)((0,l.zw)(e.periodo.startDate),1),W,(0,o.Uk)((0,l.zw)(e.periodo.endDate),1)]),(0,o.Wm)(Z,{date1:e.periodo.startDate,date2:e.periodo.endDate},null,8,["date1","date2"])])),_:2},1024),(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[((0,o.wg)(),(0,o.j4)(b,{asignacion:e,key:e._id,readonly:""},null,8,["asignacion"]))])),_:2},1024),(0,o.Wm)(x,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{color:"primary",label:"Ver desempeño","no-caps":"",unelevated:"",to:"/periodo/"+e._id},null,8,["to"])])),_:2},1024)])),_:2},1024)])))),256)),(0,o.Wm)(Q,{showing:s.loading},null,8,["showing"])])],64)}var k=t(8825),x=t(9582),q=t(122),D=t(4131);const Z={components:{asesores:q.Z,datesprogress:D.Z},setup(){const e=(0,k.Z)(),a=((0,x.tv)(),(0,n.oR)()),t=(0,i.iH)(!1),o=(0,i.iH)(null),s=(0,i.Fl)((()=>a.getters["api/getUser"])),l=(0,i.iH)(null),r=(t,o)=>{if(!t)return e.notify("Verifica el contenido"),!1;let s={_id:l.value._id,coll:"estudiantes"};s[o]=t,a.dispatch("api/SaveItem",s).then((a=>{e.notify("Guardado")}))},c=()=>{a.dispatch("api/GetAllDataFiltered",["asignaciones","estudiante",s.value.id]).then((e=>{o.value=e,t.value=!1}))},d=()=>{a.dispatch("api/GetSingleData",{coll:"estudiantes",id:s.value.id}).then((e=>{l.value=e[0],c()}))};return d(),{user:s,userData:l,saveThis:r,asignaciones:o,loading:t}}};var b=t(4260),Q=t(151),C=t(5589),z=t(4842),H=t(8240),I=t(5869),U=t(6941),j=t(7518),S=t.n(j);const V=(0,b.Z)(Z,[["render",y]]),Y=V;S()(Z,"components",{QCard:Q.Z,QCardSection:C.Z,QInput:z.Z,QBtn:H.Z,QSeparator:I.Z,QInnerLoading:U.Z});const F={class:"text-caption"},G={class:"text-body2 text-dark text-bold"},A={class:"porcentaje"},T=(0,o.Uk)("No asignado ");function R(e,a,t,s,i,n){const r=(0,o.up)("q-td"),c=(0,o.up)("q-tr"),d=(0,o.up)("q-table");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{class:"shadow-0",loading:s.loading,"no-data-label":"Sin datos",rows:s.asignaciones,columns:s.columns},{body:(0,o.w5)((e=>[(0,o.Wm)(c,{class:"cursor-pointer",props:e,onClick:a=>s.openit(e.row)},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{key:"estudiante",props:e},{default:(0,o.w5)((()=>[(0,o._)("div",F,(0,l.zw)(e.row.estudiante_user.name),1),(0,o._)("div",G,(0,l.zw)(e.row.asignacion.estudiante.tituloInvestigacion),1),(0,o._)("div",A,[(0,o._)("div",{style:(0,l.j5)("width:"+e.row.porcentaje+"%")},null,4)])])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"generacion",props:e},{default:(0,o.w5)((()=>[e.row.asignacion.estudiante.generacion.name?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,l.zw)(e.row.asignacion.estudiante.generacion.name),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[T],64))])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"periodo",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.row.asignacion.periodo.name),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{class:(0,l.C_)(["text-capitalize text-bold","director"==e.row.tipo?"text-primary":"text-secondary"]),key:"tipo",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.row.tipo),1)])),_:2},1032,["props","class"]),(0,o.Wm)(r,{key:"calificacion",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.row.calificacion),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"firmaconacyt",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.row.firmaconacyt?"Firmado":"-"),1)])),_:2},1032,["props"]),(0,o.Wm)(r,{key:"firmaCoordinador",props:e},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.row.firmaCoordinador?"Firmado":"-"),1)])),_:2},1032,["props"])])),_:2},1032,["props","onClick"])])),_:1},8,["loading","rows","columns"])])}t(8603);const L={setup(){(0,k.Z)();const e=(0,n.oR)(),a=(0,x.tv)(),t=((0,o.f3)("$_"),(0,i.iH)(!1)),s=(0,i.Fl)((()=>e.getters["api/getUser"])),l=(0,i.Fl)((()=>e.getters["api/getPeriodo"])),r=(0,i.iH)([]),c=async()=>{const a={docente:s.value.id,"asignacion.periodo":l.value._id},t=await e.dispatch("api/GetAllDataFilteredV2",["asesores",a]);for(var o in t){const e=t[o];e.asignacion.estudiante.status}r.value=t};c();const d=e=>{const t=e._id;e.asignacion._id,e.asignacion.estudiante.user;a.push("/desempeno/"+t)};return{columns:[{name:"estudiante",label:"Investigación",field:"estudiante",align:"left"},{name:"generacion",label:"Generación",field:"asignacion",align:"left"},{name:"periodo",label:"Periodo",field:"asignacion",align:"left"},{name:"tipo",label:"Tipo",field:"tipo",align:"left"},{name:"calificacion",label:"Calificacion",field:"calificacion",align:"center"},{name:"firmaconacyt",label:"CONACYT",field:"firmaconacyt",align:"center"},{name:"firmaCoordinador",label:"Firma de coordinador",field:"firmaCoordinador",align:"center"}],loading:t,openit:d,asignaciones:r}}};var P=t(3243),B=t(8186),E=t(3884);const M=(0,b.Z)(L,[["render",R],["__scopeId","data-v-498b8e58"]]),N=M;S()(L,"components",{QTable:P.Z,QTr:B.Z,QTd:E.Z});const K={class:"row q-col-gutter-md"},O={class:"col-6"},$={class:"row q-col-gutter-md full-height items-center"},J={class:"col-sm-6 col-12"},X={class:"col-sm-6 col-12"},ee={class:"col-6"};function ae(e,a,t,s,i,n){const l=(0,o.up)("usuariosactivos"),r=(0,o.up)("notificaciones"),c=(0,o.up)("q-separator"),d=(0,o.up)("estadisticasCalificadores");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",K,[(0,o._)("div",O,[(0,o._)("div",$,[(0,o._)("div",J,[(0,o.Wm)(l,{usergroup:"estudiante"})]),(0,o._)("div",X,[(0,o.Wm)(l,{usergroup:"docente"})])])]),(0,o._)("div",ee,[(0,o.Wm)(r)])]),(0,o.Wm)(c,{spaced:""}),(0,o.Wm)(d)])}const te={class:"text-body2 text-dark"},oe={class:"text-h6 text-primary text-bold"};function se(e,a,t,s,i,n){const r=(0,o.up)("q-icon"),c=(0,o.up)("q-skeleton"),d=(0,o.up)("q-card-section"),u=(0,o.up)("q-inner-loading"),p=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(p,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"text-center"},{default:(0,o.w5)((()=>["estudiante"==t.usergroup?((0,o.wg)(),(0,o.j4)(r,{key:0,name:"people_alt",color:"secondary",size:"md"})):((0,o.wg)(),(0,o.j4)(r,{key:1,name:"contact_page",color:"secondary",size:"md"})),(0,o._)("div",te,(0,l.zw)("estudiante"==t.usergroup?"Estudiantes":"Docentes")+" activos",1),(0,o._)("div",oe,[s.loading?((0,o.wg)(),(0,o.j4)(c,{key:1,type:"text"})):((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,l.zw)(s.activos.length),1)],64))])])),_:1}),(0,o.Wm)(u,{showing:s.loading},null,8,["showing"])])),_:1})}const ie={props:["usergroup"],setup(e){const a=(0,n.oR)(),t=(0,i.iH)(null),o=(0,i.iH)([]),s=(0,i.iH)([]),l=(0,i.iH)(!0),r=()=>{a.dispatch("api/GetUsersByGroup",e.usergroup).then((e=>{for(var a in t.value=e,e)e[a].active?o.value.push(e[a]):s.value.push(e[a]);l.value=!1}))};return r(),{lista:t,loading:l,activos:o,inactivos:s}}};var ne=t(4554),le=t(4103);const re=(0,b.Z)(ie,[["render",se]]),ce=re;S()(ie,"components",{QCard:Q.Z,QCardSection:C.Z,QIcon:ne.Z,QSkeleton:le.ZP,QInnerLoading:U.Z});t(246);const de={class:"text-center text-body1"},ue={class:"row q-col-gutter-xs"},pe={class:"col-12 col-sm-6"},me=(0,o.Uk)("Ir a sección"),ge={class:"col-12 col-sm-6"},we=(0,o.Uk)("Eliminar notificación"),ve={key:0,class:"text-caption text-center text-grey"};function fe(e,a,t,s,i,n){const r=(0,o.up)("q-card-section"),c=(0,o.up)("q-item-label"),d=(0,o.up)("q-item-section"),u=(0,o.up)("q-tooltip"),p=(0,o.up)("q-btn"),m=(0,o.up)("q-item"),g=(0,o.up)("q-list"),w=(0,o.up)("q-scroll-area"),v=(0,o.up)("q-inner-loading"),f=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(f,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o._)("div",de,"Notificaciones ("+(0,l.zw)(s.lista.length)+")",1)])),_:1}),(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{style:{height:"120px"}},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{dense:"",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.lista,((e,a)=>((0,o.wg)(),(0,o.j4)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.description),1)])),_:2},1024),(0,o.Wm)(c,{caption:""},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(s.toDate(e._created)),1)])),_:2},1024)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o._)("div",ue,[(0,o._)("div",pe,[e.sendto||""!=e.sendto?((0,o.wg)(),(0,o.j4)(p,{key:0,onClick:t=>s.gotoit(e,a),unelevated:"",icon:"open_in_browser",color:"primary",size:"xs",padding:"4px"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[me])),_:1})])),_:2},1032,["onClick"])):(0,o.kq)("",!0)]),(0,o._)("div",ge,[(0,o.Wm)(p,{onClick:t=>s.removeit(e,a),unelevated:"",icon:"delete",color:"negative",size:"xs",padding:"4px"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[we])),_:1})])),_:2},1032,["onClick"])])])])),_:2},1024)])),_:2},1024)))),256))])),_:1}),0==s.lista.length?((0,o.wg)(),(0,o.iD)("div",ve,"Sin notificaciones")):(0,o.kq)("",!0)])),_:1})])),_:1}),(0,o.Wm)(v,{showing:s.loading},null,8,["showing"])])),_:1})}var _e=t(5616);const he={props:["usergroup"],setup(e){const a=(0,x.tv)(),t=(0,n.oR)(),o=(0,i.iH)([]),s=(0,i.iH)(!0),l=(e,a)=>{const s=(0,i.iH)({_id:e._id,coll:"notificaciones",status:"read"});t.dispatch("api/SaveItem",s.value).then((e=>{})),o.value.splice(a,1)},r=(e,t)=>{l(e,t),a.push(e.sendto)},c=e=>_e.ZP.formatDate(1e3*e,"YYYY/MM/DD - HH:MM:ss"),d=()=>{t.dispatch("api/GetAllDataFiltered",["notificaciones","status","unread"]).then((e=>{o.value=e,s.value=!1}))};return d(),{lista:o,loading:s,removeit:l,gotoit:r,toDate:c}}};var We=t(7704),ye=t(7011),ke=t(3414),xe=t(2035),qe=t(2350),De=t(8870);const Ze=(0,b.Z)(he,[["render",fe]]),be=Ze;S()(he,"components",{QCard:Q.Z,QCardSection:C.Z,QScrollArea:We.Z,QList:ye.Z,QItem:ke.Z,QItemSection:xe.Z,QItemLabel:qe.Z,QBtn:H.Z,QTooltip:De.Z,QInnerLoading:U.Z});const Qe={class:"row q-col-gutter-md"},Ce={class:"col-3"},ze=(0,o._)("div",{class:"text-body2 text-dark"},"Análisis",-1),He={class:"col-3"},Ie=(0,o._)("div",{class:"text-body2 text-dark"},"Estructura",-1),Ue={class:"col-3"},je=(0,o._)("div",{class:"text-body2 text-dark"},"Redacción",-1),Se={class:"col-3"},Ve=(0,o._)("div",{class:"text-body2 text-dark"},"Argumentación",-1);function Ye(e,a,t,s,i,n){const l=(0,o.up)("apexchart"),r=(0,o.up)("q-inner-loading"),c=(0,o.up)("q-card-section"),d=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",Qe,[(0,o._)("div",Ce,[(0,o.Wm)(d,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[ze,(0,o.Wm)(l,{width:"100%",type:"pie",options:s.options,series:s.series.analisis},null,8,["options","series"]),(0,o.Wm)(r,{showing:s.loading},null,8,["showing"])])),_:1})])),_:1})]),(0,o._)("div",He,[(0,o.Wm)(d,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[Ie,(0,o.Wm)(l,{width:"100%",type:"pie",options:s.options,series:s.series.estructura},null,8,["options","series"]),(0,o.Wm)(r,{showing:s.loading},null,8,["showing"])])),_:1})])),_:1})]),(0,o._)("div",Ue,[(0,o.Wm)(d,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[je,(0,o.Wm)(l,{width:"100%",type:"pie",options:s.options,series:s.series.redaccion},null,8,["options","series"]),(0,o.Wm)(r,{showing:s.loading},null,8,["showing"])])),_:1})])),_:1})]),(0,o._)("div",Se,[(0,o.Wm)(d,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[Ve,(0,o.Wm)(l,{width:"100%",type:"pie",options:s.options,series:s.series.argumentacion},null,8,["options","series"]),(0,o.Wm)(r,{showing:s.loading},null,8,["showing"])])),_:1})])),_:1})])])}const Fe={setup(){(0,k.Z)();const e=(0,n.oR)(),a=((0,x.tv)(),(0,i.iH)(!0)),t=(0,i.iH)({analisis:[0,0,0,0],estructura:[0,0,0,0],redaccion:[0,0,0,0],argumentacion:[0,0,0,0]}),o=["analisis","estructura","redaccion","argumentacion"],s=()=>{e.dispatch("api/GetAllData","asesores").then((e=>{for(var s in e){const a=e[s];for(var i in o){const e=a[o[i]];e&&("excelente"==e.valor&&(t.value[o[i]][0]+=1),"bueno"==e.valor&&(t.value[o[i]][1]+=1),"satisfactorio"==e.valor&&(t.value[o[i]][2]+=1),"no satisfactorio"==e.valor&&(t.value[o[i]][3]+=1))}}a.value=!1}))};return s(),{loading:a,series:t,options:{labels:["Excelente","Bueno","Satisfactorio","No satisfactorio"],legend:{show:!1}}}}},Ge=(0,b.Z)(Fe,[["render",Ye]]),Ae=Ge;S()(Fe,"components",{QCard:Q.Z,QCardSection:C.Z,QInnerLoading:U.Z});const Te={components:{usuariosactivos:ce,notificaciones:be,estadisticasCalificadores:Ae},setup(){return{}}},Re=(0,b.Z)(Te,[["render",ae]]),Le=Re;S()(Te,"components",{QSeparator:I.Z});const Pe={components:{estudiante:Y,docente:N,coordinador:Le},setup(){const e=(0,n.oR)(),a=(0,i.Fl)((()=>e.getters["api/getUser"]));return{userData:a}},methods:{loadItems(){}},mounted(){this.loadItems()}};var Be=t(4379);const Ee=(0,b.Z)(Pe,[["render",s]]),Me=Ee;S()(Pe,"components",{QPage:Be.Z})}}]);