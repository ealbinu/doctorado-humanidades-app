"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[899],{5899:(e,a,n)=>{n.r(a),n.d(a,{default:()=>j});var l=n(3673),o=n(2323);const s={class:"row q-col-gutter-md"},t={class:"col-12"},i={class:"text-bold text-primary text-white"},d=(0,l._)("div",{class:"text-h6 text-dark q-my-md"},"Asignar estudiantes",-1),r={class:"row q-col-gutter-md"},u={class:"col-12"};function c(e,a,n,c,p,m){const w=(0,l.up)("q-icon"),g=(0,l.up)("q-card-section"),f=(0,l.up)("q-card"),v=(0,l.up)("q-inner-loading"),_=(0,l.up)("q-td"),h=(0,l.up)("q-btn"),k=(0,l.up)("q-tr"),q=(0,l.up)("q-table"),b=(0,l.up)("periodos"),W=(0,l.up)("q-dialog"),Z=(0,l.up)("q-page");return(0,l.wg)(),(0,l.j4)(Z,{padding:""},{default:(0,l.w5)((()=>[(0,l._)("div",s,[(0,l._)("div",t,[(0,l.Wm)(f,{class:"shadow-24 bg-dark"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(w,{class:"q-mr-sm",name:"assignment_ind",color:"white",size:"md"}),(0,l._)("span",i,(0,o.zw)(c.user.name),1)])),_:1})])),_:1})])]),d,(0,l._)("div",r,[(0,l._)("div",u,[(0,l.Wm)(f,{class:"shadow-24"},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{showing:c.loading},null,8,["showing"]),c.loading?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(q,{key:0,class:"shadow-0",loading:c.loading,"no-data-label":"Sin datos",rows:c.estudiantes,columns:c.columns,dense:""},{body:(0,l.w5)((e=>[(0,l.Wm)(k,{props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(_,{key:"name",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.name),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"generacion",props:e},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.row.generacion.name),1)])),_:2},1032,["props"]),(0,l.Wm)(_,{key:"periodos",props:e},{default:(0,l.w5)((()=>[(0,l.Wm)(h,{label:"Periodos",color:"primary",onClick:a=>c.openPeriodos(e.row),size:"sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["loading","rows","columns"]))])),_:1})])),_:1})])]),(0,l.Wm)(W,{modelValue:c.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>c.dialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(f,{class:"full-width",style:{"max-width":"80vw"}},{default:(0,l.w5)((()=>[(0,l.Wm)(g,null,{default:(0,l.w5)((()=>[c.activeuser?((0,l.wg)(),(0,l.j4)(b,{key:0,estudianteid:c.activeuser.user},null,8,["estudianteid"])):(0,l.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var p=n(1959),m=n(9582),w=n(3617),g=n(885),f=n(8603),v=n.n(f),_=n(9985);const h={components:{editThis:g.Z,periodos:_.Z},setup(){const e=(0,m.yj)(),a=(0,w.oR)(),n=(0,p.iH)({name:"",user:""}),l=(0,p.iH)({generacion:""}),o=(0,p.iH)(null),s=(0,p.iH)(!1),t=(0,p.iH)(!0),i=(0,p.iH)([]),d=[{name:"name",label:"Nombre",field:"name",align:"left"},{name:"generacion",label:"GeneraciÃ³n",field:"generacion",align:"left"},{name:"periodos",label:"Periodos",align:"center"}],r=()=>{a.dispatch("api/GetSingleUser",e.params.id).then((e=>{n.value=e,a.dispatch("api/GetUsersByGroup","estudiante").then((e=>{for(var n in i.value=[],e)e[n].active&&i.value.push(e[n]);a.dispatch("api/GetAllData","estudiantes").then((e=>{for(var a in i.value){const n=e.filter((function(e,n,l){return e.user==i.value[a]._id}));v().merge(i.value[a],n[0])}t.value=!1}))}))}))};r();const u=e=>{s.value=!0,o.value=e};return{user:n,userData:l,dialog:s,loadItem:r,loading:t,columns:d,estudiantes:i,openPeriodos:u,activeuser:o}}};var k=n(4260),q=n(4379),b=n(151),W=n(5589),Z=n(4554),y=n(6941),Q=n(3243),x=n(8186),C=n(3884),H=n(8240),z=n(6778),G=n(7518),P=n.n(G);const U=(0,k.Z)(h,[["render",c]]),j=U;P()(h,"components",{QPage:q.Z,QCard:b.Z,QCardSection:W.Z,QIcon:Z.Z,QInnerLoading:y.Z,QTable:Q.Z,QTr:x.Z,QTd:C.Z,QBtn:H.Z,QDialog:z.Z})}}]);