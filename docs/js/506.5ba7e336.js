"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[506],{2506:(e,a,t)=>{t.r(a),t.d(a,{default:()=>L});var s=t(3673),l=t(8880),n=t(9901),o=t.n(n),r=t(9881),u=t.n(r);const d=e=>((0,s.dD)("data-v-7a92d95e"),e=e(),(0,s.Cn)(),e),i={class:"text-center q-mt-lg"},c={class:"text-center"},m=d((()=>(0,s._)("div",{class:"text-grey text-bold"},[(0,s._)("span",null,"usuario"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",null,"contraseña")],-1))),p=d((()=>(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"docente"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"docente")],-1))),w=d((()=>(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"01110284"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"estudiante")],-1))),g=d((()=>(0,s._)("div",null,[(0,s._)("span",{class:"text-primary"},"coordinador"),(0,s._)("span",{class:"text-dark"}," / "),(0,s._)("span",{class:"text-secondary"},"coordinador")],-1)));function v(e,a,t,n,r,d){const v=(0,s.up)("q-img"),_=(0,s.up)("q-card-section"),f=(0,s.up)("q-input"),y=(0,s.up)("q-btn"),b=(0,s.up)("q-form"),q=(0,s.up)("q-separator"),x=(0,s.up)("registro"),W=(0,s.up)("q-card"),h=(0,s.up)("q-page");return(0,s.wg)(),(0,s.j4)(h,{class:"flex flex-center column"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,{class:"bg-dark shadow-20",style:{width:"320px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"text-center q-my-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(v,{src:o()})])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(b,{onSubmit:(0,l.iM)(n.loginFn,["prevent"])},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{label:"Nº de cuenta / Usuario",standout:"",dark:"",dense:"",modelValue:n.authuser,"onUpdate:modelValue":a[0]||(a[0]=e=>n.authuser=e),autocomplete:"username"},null,8,["modelValue"]),(0,s.Wm)(f,{class:"q-mt-sm",label:"Contraseña",standout:"",dark:"",dense:"",type:"password",modelValue:n.authpass,"onUpdate:modelValue":a[1]||(a[1]=e=>n.authpass=e),autocomplete:"current-password"},null,8,["modelValue"]),(0,s._)("div",i,[(0,s.Wm)(y,{label:"Ingresar",color:"primary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(q,{spaced:""}),(0,s._)("div",c,[(0,s.Wm)(x)]),(0,s.Wm)(q,{spaced:""})])),_:1}),(0,s.Wm)(_,null,{default:(0,s.w5)((()=>[(0,s.Wm)(v,{src:u()})])),_:1})])),_:1}),(0,s.Wm)(W,{class:"q-ma-sm fixed-bottom-left"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"text-center"},{default:(0,s.w5)((()=>[m,(0,s.Wm)(q),p,(0,s.Wm)(q),w,(0,s.Wm)(q),g])),_:1})])),_:1})])),_:1})}var _=t(1959),f=t(3617),y=t(8825),b=t(9582);const q={class:"text-center q-mt-sm"},x={class:"text-center q-mt-lg"},W=(0,s._)("div",{class:"text-center q-my-sm text-white text-h6"},"Registro exitoso.",-1),h=(0,s._)("div",{class:"text-center q-my-sm text-white text-body2"},"Tu registro será evaluado y en caso de cubrir los requisitos tu cuenta se activará.",-1);function V(e,a,t,n,o,r){const u=(0,s.up)("q-btn"),d=(0,s.up)("q-btn-toggle"),i=(0,s.up)("q-separator"),c=(0,s.up)("q-input"),m=(0,s.up)("q-icon"),p=(0,s.up)("q-form"),w=(0,s.up)("q-card-section"),g=(0,s.up)("q-card"),v=(0,s.up)("q-dialog");return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(u,{size:"sm",flat:"",label:"Nuevo usuario",padding:"0",color:"positive",onClick:a[0]||(a[0]=e=>n.dialog=!0)}),(0,s.Wm)(v,{modelValue:n.dialog,"onUpdate:modelValue":a[7]||(a[7]=e=>n.dialog=e)},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"bg-dark shadow-20",style:{width:"320px"}},{default:(0,s.w5)((()=>[n.success?((0,s.wg)(),(0,s.j4)(w,{key:1},{default:(0,s.w5)((()=>[W,h])),_:1})):((0,s.wg)(),(0,s.j4)(w,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{onSubmit:(0,l.iM)(n.signinFn,["prevent"])},{default:(0,s.w5)((()=>[(0,s._)("div",q,[(0,s.Wm)(d,{unelevated:"","toggle-color":"info","text-color":"white",modelValue:n.newuser.group,"onUpdate:modelValue":a[1]||(a[1]=e=>n.newuser.group=e),options:[{label:"Estudiante",value:"estudiante"},{label:"Docente",value:"docente"}]},null,8,["modelValue"])]),(0,s.Wm)(i,{spaced:""}),(0,s.Wm)(c,{modelValue:n.newuser.user,"onUpdate:modelValue":a[2]||(a[2]=e=>n.newuser.user=e),label:"estudiante"==n.newuser.group?"Nº de cuenta":"Usuario",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue","label"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.name,"onUpdate:modelValue":a[3]||(a[3]=e=>n.newuser.name=e),label:"Nombre",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.email,"onUpdate:modelValue":a[4]||(a[4]=e=>n.newuser.email=e),type:"email",label:"Email",rounded:"",standout:"",dark:"",dense:"",required:""},null,8,["modelValue"]),(0,s.Wm)(c,{class:"q-mt-sm",modelValue:n.newuser.password,"onUpdate:modelValue":a[6]||(a[6]=e=>n.newuser.password=e),label:"Contraseña",type:n.passview?"text":"password",rounded:"",standout:"",dark:"",dense:"",required:"",hint:"Al menos 6 caracteres.",pattern:".{6,}"},{append:(0,s.w5)((()=>[(0,s.Wm)(m,{class:"cursor-pointer",color:"primary",name:n.passview?"visibility_off":"visibility",onClick:a[5]||(a[5]=e=>n.passview=!n.passview)},null,8,["name"])])),_:1},8,["modelValue","type"]),(0,s._)("div",x,[(0,s.Wm)(u,{label:"Registrar",color:"primary",unelevated:"",type:"submit"})])])),_:1},8,["onSubmit"])])),_:1}))])),_:1})])),_:1},8,["modelValue"])])}(0,y.Z)();const k={setup(){const e=(0,y.Z)(),a=(0,f.oR)(),t=(0,_.iH)(!1),s=(0,_.iH)(!1),l=(0,_.iH)(!1),n=(0,_.iH)({user:"",name:"",email:"",password:"",group:"estudiante",active:!1}),o=()=>{a.dispatch("api/SaveUser",{user:n.value}).then((t=>{e.notify("Registro exitoso."),l.value=!0,a.dispatch("api/NewNotification",{description:"Registro: "+n.value.user,sendto:"/"+n.value.group+"s"})})).catch((a=>{switch(e.notify(a.message),a.data){case"Username is already used!":e.notify("El Nº de cuenta o usuario ya esta registrado.");break;case"Email is already used!":e.notify("El correo electrónico ya esta registrado.");break}}))};return{dialog:t,signinFn:o,newuser:n,passview:s,success:l}}};var Z=t(4260),Q=t(8240),U=t(6778),C=t(151),S=t(5589),N=t(5269),F=t(8761),H=t(5869),I=t(4842),R=t(4554),E=t(7518),B=t.n(E);const D=(0,Z.Z)(k,[["render",V]]),j=D;B()(k,"components",{QBtn:Q.Z,QDialog:U.Z,QCard:C.Z,QCardSection:S.Z,QForm:N.Z,QBtnToggle:F.Z,QSeparator:H.Z,QInput:I.Z,QIcon:R.Z});const M={components:{registro:j},setup(){const e=(0,y.Z)(),a=(0,f.oR)(),t=(0,b.tv)(),s=(0,_.iH)(""),l=(0,_.iH)(""),n=async()=>{a.dispatch("api/Login",{user:s.value,password:l.value}).then((a=>{e.notify("Bienvenido"),t.push("/dashboard")})).catch((a=>{e.notify(a.message)}))};return{loginFn:n,authuser:s,authpass:l}},methods:{}};var T=t(4379),z=t(4027);const A=(0,Z.Z)(M,[["render",v],["__scopeId","data-v-7a92d95e"]]),L=A;B()(M,"components",{QPage:T.Z,QCard:C.Z,QCardSection:S.Z,QImg:z.Z,QForm:N.Z,QInput:I.Z,QBtn:Q.Z,QSeparator:H.Z})}}]);