"use strict";(self["webpackChunkiconos_plataforma"]=self["webpackChunkiconos_plataforma"]||[]).push([[964],{6964:(e,a,t)=>{t.r(a),t.d(a,{default:()=>Ia});var o=t(3673);const s={key:0,class:"row q-col-gutter-md"},l={class:"col-12"},i={class:"col-12"},n={class:"col-12"};function d(e,a,t,d,c,u){const r=(0,o.up)("estudianteCuenta"),m=(0,o.up)("estudianteInformacion"),p=(0,o.up)("estudiantePeriodos"),v=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(v,{padding:""},{default:(0,o.w5)((()=>[d.student?((0,o.wg)(),(0,o.iD)("div",s,[(0,o._)("div",l,[(0,o.Wm)(r,{student:d.student},null,8,["student"])]),(0,o._)("div",i,[(0,o.Wm)(m,{student:d.student},null,8,["student"])]),(0,o._)("div",n,[(0,o.Wm)(p,{student:d.student},null,8,["student"])])])):(0,o.kq)("",!0)])),_:1})}var c=t(1959),u=t(8825),r=t(3617),m=t(9582),p=t(8880);const v={class:"col-6"},g={class:"text-caption text-white"},_=(0,o.Uk)("Estudiante "),w={key:0,class:"text-secondary"},y={key:0,class:"col-6 text-right text-white"},f={class:"col-12"},x={class:"col-6"},q={class:"col-6"},b={key:1,class:"col-6 text-center"},k={key:2,class:"col-6 text-center"},W={key:3,class:"col-12 text-center"};function h(e,a,t,s,l,i){const n=(0,o.up)("q-toggle"),d=(0,o.up)("q-icon"),c=(0,o.up)("q-input"),u=(0,o.up)("q-btn"),r=(0,o.up)("q-form"),m=(0,o.up)("q-card-section"),h=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(h,{class:"shadow-24 bg-dark"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{class:"row q-col-gutter-md items-center",onSubmit:(0,p.iM)(s.updateAccount,["prevent"])},{default:(0,o.w5)((()=>[(0,o._)("div",v,[(0,o._)("div",g,[_,t.student.estudiante_user.active?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("span",w,"deshabilitado"))])]),t.student.estudiante_user.active?((0,o.wg)(),(0,o.iD)("div",y,[(0,o.Wm)(n,{label:"Modificar",modelValue:s.modifyAccount,"onUpdate:modelValue":a[0]||(a[0]=e=>s.modifyAccount=e)},null,8,["modelValue"])])):(0,o.kq)("",!0),(0,o._)("div",f,[(0,o.Wm)(c,{label:"Nombre",modelValue:t.student.estudiante_user.name,"onUpdate:modelValue":a[1]||(a[1]=e=>t.student.estudiante_user.name=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},{prepend:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"person"})])),_:1},8,["modelValue","readonly"])]),(0,o._)("div",x,[(0,o.Wm)(c,{label:"Cuenta",modelValue:t.student.estudiante_user.user,"onUpdate:modelValue":a[2]||(a[2]=e=>t.student.estudiante_user.user=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},{prepend:(0,o.w5)((()=>[(0,o.Wm)(d,{name:"account_box"})])),_:1},8,["modelValue","readonly"])]),(0,o._)("div",q,[(0,o.Wm)(c,{label:"Correo electrónico",modelValue:t.student.estudiante_user.email,"onUpdate:modelValue":a[3]||(a[3]=e=>t.student.estudiante_user.email=e),dark:"",standout:"",dense:"",readonly:!s.modifyAccount},null,8,["modelValue","readonly"])]),s.modifyAccount&&t.student.estudiante_user.active?((0,o.wg)(),(0,o.iD)("div",b,[(0,o.Wm)(u,{label:"Deshabilitar",onClick:s.disableAccount,color:"negative",unelevated:"",size:"sm","no-caps":""},null,8,["onClick"])])):(0,o.kq)("",!0),s.modifyAccount&&t.student.estudiante_user.active?((0,o.wg)(),(0,o.iD)("div",k,[(0,o.Wm)(u,{label:"Guardar",color:"primary",unelevated:"",type:"submit"})])):(0,o.kq)("",!0),t.student.estudiante_user.active?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",W,[(0,o.Wm)(u,{label:"Habilitar usuario",onClick:s.enableAccount,color:"secondary",unelevated:""},null,8,["onClick"])]))])),_:1},8,["onSubmit"])])),_:1})])),_:1})}const V={props:["student"],setup(e){const a=(0,u.Z)(),t=(0,r.oR)(),o=((0,m.tv)(),(0,c.iH)(e.student)),s=(0,c.iH)(!1),l=async()=>{o.value.estudiante_user.active=!1,s.value=!1,t.dispatch("api/SaveUser",{user:o.value.estudiante_user})},i=async()=>{o.value.estudiante_user.active=!0,s.value=!1,t.dispatch("api/SaveUser",{user:o.value.estudiante_user})},n=async()=>{try{await t.dispatch("api/SaveUser",{user:o.value.estudiante_user});a.notify("Datos guardados"),s.value=!1}catch(e){a.notify(e.message)}};return{modifyAccount:s,disableAccount:l,enableAccount:i,updateAccount:n}}};var D=t(4260),Z=t(151),U=t(5589),A=t(5269),C=t(8886),Q=t(4842),z=t(4554),I=t(8240),S=t(7518),H=t.n(S);const Y=(0,D.Z)(V,[["render",h]]),E=Y;H()(V,"components",{QCard:Z.Z,QCardSection:U.Z,QForm:A.Z,QToggle:C.Z,QInput:Q.Z,QIcon:z.Z,QBtn:I.Z});var j=t(2323);const L={class:"row q-col-gutter-md items-center"},G=(0,o._)("div",{class:"col-12"},[(0,o._)("div",{class:"text-caption"},"Información ")],-1),T={class:"col-4"},R={class:"col-4"},P={class:"col-4"},B={class:"row q-col-gutter-md items-center"},M=(0,o._)("div",{class:"col-12"},[(0,o._)("div",{class:"text-caption"},"Investigación")],-1),O={class:"col-12 text-bold text-primary"};function F(e,a,t,s,l,i){const n=(0,o.up)("q-select"),d=(0,o.up)("q-card-section"),c=(0,o.up)("q-card");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(c,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",L,[G,(0,o._)("div",T,[(0,o.Wm)(n,{label:"Generación:",modelValue:t.student.generacion,"onUpdate:modelValue":[a[0]||(a[0]=e=>t.student.generacion=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:s.generaciones,"option-value":"_id","option-label":"name","map-options":""},null,8,["modelValue","options","onUpdate:modelValue"])]),(0,o._)("div",R,[(0,o.Wm)(n,{label:"Beca:",modelValue:t.student.beca,"onUpdate:modelValue":[a[1]||(a[1]=e=>t.student.beca=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:["CONACYT","SIN BECA"]},null,8,["modelValue","onUpdate:modelValue"])]),(0,o._)("div",P,[(0,o.Wm)(n,{label:"Estatus:",modelValue:t.student.status,"onUpdate:modelValue":[a[2]||(a[2]=e=>t.student.status=e),s.saveThis],standout:"bg-primary text-white",dense:"",options:["ACTIVO","EGRESADO","BAJA"]},null,8,["modelValue","onUpdate:modelValue"])])])])),_:1})])),_:1}),(0,o.Wm)(c,{class:"shadow-24 q-mt-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",B,[M,(0,o._)("div",O,(0,j.zw)(t.student.tituloInvestigacion||"- - Sin título - -"),1)])])),_:1})])),_:1})])}const K={props:["student"],setup(e){const a=(0,u.Z)(),t=(0,r.oR)(),o=((0,m.tv)(),(0,c.iH)(e.student)),s=(0,c.iH)([]),l=async()=>{s.value=await t.dispatch("api/GetAllData","generaciones")};l();const i=async()=>{const e={...o.value,coll:"estudiantes"};delete e.user,delete e.periodo_id,delete e.coloquio,delete e.tituloInvestigacion;t.dispatch("api/SaveItem",e);a.notify("Guardado")};return{saveThis:i,generaciones:s}}};var N=t(8516);const $=(0,D.Z)(K,[["render",F]]),J=$;H()(K,"components",{QCard:Z.Z,QCardSection:U.Z,QSelect:N.Z});const X={class:"row q-col-gutter-md items-center q-pb-md"},ee=(0,o._)("div",{class:"col-6"},[(0,o._)("div",{class:"text-caption"},"Periodos")],-1),ae={class:"col-6 text-right"},te={class:"row q-col-gutter-md"},oe={class:"col-md-4 col-12"},se={class:"text-h5 text-bold text-dark"},le={class:"text-caption text-grey"},ie=(0,o._)("span",{class:"text-primary text-bold q-mx-sm"},"- ",-1),ne=(0,o._)("div",{class:"text-caption text-grey"},"Asesores",-1),de={key:0,class:"q-mt-md"},ce={class:"text-body1 text-white"},ue={class:"text-bold text-capitalize text-accent"},re={class:"text-body1 text-blue-grey"},me={class:"text-bold text-capitalize text-grey"},pe={class:"text-center"},ve={class:"text-caption text-grey"},ge=(0,o.Uk)("Fechas"),_e=(0,o.Uk)("Editar fechas"),we={key:0,class:"q-mt-md"},ye={key:1},fe=(0,o._)("div",{class:"text-caption text-grey"},"1er Coloquio",-1),xe={class:"text-body1"},qe=(0,o._)("div",{class:"text-caption text-grey"},"2do Coloquio",-1),be={class:"text-body1"},ke=(0,o._)("div",{class:"text-caption text-grey"},"Examen de candidatura",-1),We={class:"text-body1"},he=(0,o._)("div",{class:"text-caption text-grey"},"Examen de grado",-1),Ve={class:"text-body1"};function De(e,a,t,s,l,i){const n=(0,o.up)("periodoInscribir"),d=(0,o.up)("datesprogress"),c=(0,o.up)("q-card-section"),u=(0,o.up)("eliminarAsesor"),r=(0,o.up)("q-card"),m=(0,o.up)("administrarAsesores"),p=(0,o.up)("q-tooltip"),v=(0,o.up)("q-toggle"),g=(0,o.up)("q-date"),_=(0,o.up)("q-popup-proxy"),w=(0,o.up)("q-input"),y=(0,o.up)("q-btn"),f=(0,o.up)("periodoDesinscribir");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(r,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",X,[ee,(0,o._)("div",ae,[s.loading?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(n,{key:0,yainscrito:s.periodosAsignados,student:t.student,onUpdated:s.loadItems},null,8,["yainscrito","student","onUpdated"]))])]),(0,o._)("div",te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.periodosAsignados,((e,a)=>((0,o.wg)(),(0,o.iD)("div",oe,[(0,o.Wm)(r,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o._)("div",se,(0,j.zw)(e.periodo.name),1),(0,o._)("div",le,[(0,o.Uk)((0,j.zw)(e.periodo.startDate),1),ie,(0,o.Uk)((0,j.zw)(e.periodo.endDate),1)]),(0,o.Wm)(d,{date1:e.periodo.startDate,date2:e.periodo.endDate},null,8,["date1","date2"])])),_:2},1024),(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[ne,e.asesores?((0,o.wg)(),(0,o.iD)("div",de,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.asesores[0],((e,t)=>((0,o.wg)(),(0,o.j4)(r,{class:"bg-dark shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",ce,(0,j.zw)(e.docente_user.name),1),(0,o._)("div",ue,(0,j.zw)(e.tipo),1),(0,o.Wm)(u,{asignacion:e,onUpdatedAsesor:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdatedAsesor"])])),_:2},1024)])),_:2},1024)))),256)),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.asesores[1],((e,t)=>((0,o.wg)(),(0,o.j4)(r,{class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o._)("div",re,(0,j.zw)(e.docente_user.name),1),(0,o._)("div",me,(0,j.zw)(e.tipo),1),(0,o.Wm)(u,{asignacion:e,onUpdatedAsesor:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdatedAsesor"])])),_:2},1024)])),_:2},1024)))),256))])):(0,o.kq)("",!0),(0,o._)("div",pe,[e.asesores?((0,o.wg)(),(0,o.j4)(m,{key:0,asignacion:e,onUpdateAsesores:e=>s.loadAsesores(a)},null,8,["asignacion","onUpdateAsesores"])):(0,o.kq)("",!0)])])),_:2},1024),(0,o.Wm)(c,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o._)("div",ve,[ge,e.activeDates?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(v,{key:0,modelValue:e.activeDates,"onUpdate:modelValue":a=>e.activeDates=a,size:"xs"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[_e])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue"]))]),e.activeDates?((0,o.wg)(),(0,o.iD)("div",we,[(0,o.Wm)(w,{class:"q-mt-sm",label:"1er Coloquio",type:"text",modelValue:e.coloquio1,"onUpdate:modelValue":a=>e.coloquio1=a,standout:"bg-primary text-white","stack-label":"",dense:"",readonly:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{cover:"","transition-show":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.coloquio1,"onUpdate:modelValue":a=>e.coloquio1=a,minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(w,{class:"q-mt-sm",label:"2do Coloquio",type:"text",modelValue:e.coloquio2,"onUpdate:modelValue":a=>e.coloquio2=a,standout:"bg-primary text-white","stack-label":"",dense:"",readonly:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{cover:"","transition-show":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.coloquio2,"onUpdate:modelValue":a=>e.coloquio2=a,minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(w,{class:"q-mt-sm",label:"Examen de candidatura",type:"text",modelValue:e.candidatura,"onUpdate:modelValue":a=>e.candidatura=a,standout:"bg-primary text-white","stack-label":"",dense:"",readonly:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{cover:"","transition-show":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.candidatura,"onUpdate:modelValue":a=>e.candidatura=a,minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(w,{class:"q-mt-sm",label:"Examen de grado",type:"text",modelValue:e.grado,"onUpdate:modelValue":a=>e.grado=a,standout:"bg-primary text-white","stack-label":"",dense:"",readonly:""},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{cover:"","transition-show":"scale"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{modelValue:e.grado,"onUpdate:modelValue":a=>e.grado=a,minimal:"",mask:"YYYY-MM-DD"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"]),(0,o.Wm)(y,{class:"q-mt-md",label:"Guardar fechas",unelevated:"",color:"positive",size:"sm","no-caps":"",onClick:a=>s.saveDates(e)},null,8,["onClick"])])):((0,o.wg)(),(0,o.iD)("div",ye,[void 0!=e.coloquio1?((0,o.wg)(),(0,o.j4)(r,{key:0,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[fe,(0,o._)("div",xe,(0,j.zw)(e.coloquio1),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.coloquio2?((0,o.wg)(),(0,o.j4)(r,{key:1,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[qe,(0,o._)("div",be,(0,j.zw)(e.coloquio2),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.candidatura?((0,o.wg)(),(0,o.j4)(r,{key:2,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[ke,(0,o._)("div",We,(0,j.zw)(e.candidatura),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0),void 0!=e.grado?((0,o.wg)(),(0,o.j4)(r,{key:3,class:"shadow-14 q-mt-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"q-py-xs"},{default:(0,o.w5)((()=>[he,(0,o._)("div",Ve,(0,j.zw)(e.grado),1)])),_:2},1024)])),_:2},1024)):(0,o.kq)("",!0)]))])),_:2},1024)])),_:2},1024),((0,o.wg)(),(0,o.j4)(f,{asignacion:e,key:a,onUpdated:s.loadItems},null,8,["asignacion","onUpdated"]))])))),256))])])),_:1})])),_:1})])}t(5616);var Ze=t(4131);const Ue=(0,o._)("div",{class:"text-caption text-grey"},"Para cambiar de director primero debe elimnar al que se encuentra asignado.",-1),Ae={class:"text-center"};function Ce(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-item-section"),c=(0,o.up)("q-checkbox"),u=(0,o.up)("q-item"),r=(0,o.up)("q-list"),m=(0,o.up)("q-separator"),p=(0,o.up)("q-card-section"),v=(0,o.up)("q-card"),g=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{class:"q-mt-md",label:"Asignar asesores",onClick:s.openDialog,color:"positive",unelevated:"","no-caps":"",size:"sm"},null,8,["onClick"]),(0,o.Wm)(g,{modelValue:s.dialog,"onUpdate:modelValue":a[2]||(a[2]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(r,{dense:"",separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.docentes,((e,t)=>((0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",null,(0,j.zw)(e.name),1)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Director",val:e._id,modelValue:s.directorList,"onUpdate:modelValue":a[0]||(a[0]=e=>s.directorList=e),disable:s.DirectorisLector(e._id)},null,8,["val","modelValue","disable"])])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{label:"Lector",val:e._id,modelValue:s.lectorList,"onUpdate:modelValue":a[1]||(a[1]=e=>s.lectorList=e),color:"secondary",disable:s.LectorisDirector(e._id)},null,8,["val","modelValue","disable"])])),_:2},1024)])),_:2},1024)))),256))])),_:1}),s.directorListOriginal.length>0?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(m,{spaced:""}),Ue],64)):(0,o.kq)("",!0),(0,o.Wm)(m,{spaced:""}),(0,o._)("div",Ae,[(0,o.Wm)(n,{label:"Guardar asesores",color:"primary",unelevated:"",onClick:s.saveItems,"no-caps":""},null,8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const Qe={props:["asignacion"],setup(e,a){const t=(0,u.Z)(),s=(0,r.oR)(),l=((0,m.tv)(),(0,o.f3)("$_")),i=(0,c.iH)(!1),n=(0,c.iH)(null),d=(0,c.iH)([]),p=(0,c.iH)([]),v=(0,c.iH)([]),g=(0,c.iH)([]),_=(0,c.iH)(e.asignacion),w=e=>{const a=v.value.includes(e),t=p.value.includes(e);return a||t},y=e=>{const a=g.value.includes(e),t=d.value.length>0;return a||t},f=async()=>{n.value=await s.dispatch("api/GetUsersByGroup","docente"),i.value=!0},x=()=>{const e=_.value.asesores[0];for(var a in e)d.value.push(e[a].docente),v.value.push(e[a].docente);const t=_.value.asesores[1];for(var o in t)p.value.push(t[o].docente),g.value.push(t[o].docente)};x(),(0,o.YP)((()=>v.value),((e,a)=>{v.value.length>1&&v.value.shift()}));const q=async()=>{const o=l.difference(v.value,d.value),n=l.difference(d.value,v.value),c=l.difference(g.value,p.value),u=l.difference(p.value,g.value);l.merge(n,u);let r=0;for(var m in o){const a=o[m],t=e.asignacion;delete t.asesores;let l={docente:a,asignacion:{_id:t._id,link:"asignaciones"},tipo:"director",coll:"asesores"};await s.dispatch("api/SaveItem",l);r++}for(var m in c){const a=c[m],t=e.asignacion;delete t.asesores;const o={docente:a,asignacion:{_id:t._id,link:"asignaciones"},tipo:"lector",coll:"asesores"};await s.dispatch("api/SaveItem",o);r++}0==o.length&&0==c.length?(i.value=!1,t.notify("Sin cambios por realizar")):(1==r?t.notify("1 asesor asignado."):t.notify(r+" asesor asignados."),a.emit("updateAsesores"))};return{dialog:i,openDialog:f,docentes:n,directorList:v,lectorList:g,saveItems:q,LectorisDirector:w,DirectorisLector:y,directorListOriginal:d,lectorListOriginal:p}}};var ze=t(6778),Ie=t(7011),Se=t(3414),He=t(2035),Ye=t(5735),Ee=t(5869);const je=(0,D.Z)(Qe,[["render",Ce]]),Le=je;H()(Qe,"components",{QBtn:I.Z,QDialog:ze.Z,QCard:Z.Z,QCardSection:U.Z,QList:Ie.Z,QItem:Se.Z,QItemSection:He.Z,QCheckbox:Ye.Z,QSeparator:Ee.Z});const Ge=(0,o.Uk)("Eliminar asesor"),Te=(0,o.Uk)("Eliminar asesor"),Re=(0,o._)("div",{class:"text-body2"},"Se eliminará al asesor",-1),Pe={class:"text-h6"},Be=(0,o._)("div",{class:"text-body2"},"del periodo",-1),Me={class:"text-h6"},Oe=(0,o._)("div",{class:"text-h6 text-negative"},"El contenido escrito en el reporte por el asesor será eliminado y no se podrá recuperar.",-1),Fe={class:"text-left"},Ke=(0,o._)("div",{class:"text-caption text-grey"},"Análisis",-1),Ne={class:"text-body2 text-grey"},$e=(0,o._)("div",{class:"text-caption text-grey"},"Estructura",-1),Je={class:"text-body2 text-grey"},Xe=(0,o._)("div",{class:"text-caption text-grey"},"Redacción",-1),ea={class:"text-body2 text-grey"},aa=(0,o._)("div",{class:"text-caption text-grey"},"Argumentación",-1),ta={class:"text-body2 text-grey"};function oa(e,a,t,s,l,i){const n=(0,o.up)("q-tooltip"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-toolbar-title"),u=(0,o.up)("q-toolbar"),r=(0,o.up)("q-separator"),m=(0,o.up)("q-card-section"),p=(0,o.up)("q-card"),v=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(d,{class:"absolute-bottom-right q-ma-sm",icon:"delete",onClick:s.openDialog,color:"negative","no-caps":"",size:"xs",unelevated:"",round:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n,null,{default:(0,o.w5)((()=>[Ge])),_:1})])),_:1},8,["onClick"]),(0,o.Wm)(v,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"bg-negative text-white"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[Te])),_:1})])),_:1}),(0,o.Wm)(m,{class:"text-center"},{default:(0,o.w5)((()=>[Re,(0,o._)("div",Pe,(0,j.zw)(t.asignacion.docente_user.name),1),Be,(0,o._)("div",Me,(0,j.zw)(t.asignacion.asignacion.periodo.name),1),(0,o.Wm)(r,{spaced:""}),t.asignacion.analisis||t.asignacion.estructura||t.asignacion.redaccion||t.asignacion.argumentacion?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[Oe,(0,o._)("div",Fe,[(0,o.Wm)(r),Ke,(0,o._)("div",Ne,(0,j.zw)(t.asignacion.analisis.comentario),1),(0,o.Wm)(r),$e,(0,o._)("div",Je,(0,j.zw)(t.asignacion.estructura.comentario),1),(0,o.Wm)(r),Xe,(0,o._)("div",ea,(0,j.zw)(t.asignacion.redaccion.comentario),1),(0,o.Wm)(r),aa,(0,o._)("div",ta,(0,j.zw)(t.asignacion.argumentacion.comentario),1)])],64)):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(m,{class:"text-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"negative",label:"Eliminar asesor",onClick:s.deleteAsesor},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const sa={props:["asignacion"],setup(e,a){const t=(0,u.Z)(),s=(0,r.oR)(),l=((0,m.tv)(),(0,o.f3)("$_"),(0,c.iH)(!1)),i=()=>{l.value=!0},n=async()=>{await s.dispatch("api/RemoveItem",["asesores","_id",e.asignacion._id]);l.value=!1,a.emit("updatedAsesor"),t.notify("Asesor eliminado")};return{dialog:l,openDialog:i,deleteAsesor:n}}};var la=t(8870),ia=t(9570),na=t(3747);const da=(0,D.Z)(sa,[["render",oa]]),ca=da;H()(sa,"components",{QBtn:I.Z,QTooltip:la.Z,QDialog:ze.Z,QCard:Z.Z,QToolbar:ia.Z,QToolbarTitle:na.Z,QCardSection:U.Z,QSeparator:Ee.Z});const ua=(0,o._)("div",{class:"text-caption"},"Periodos disponibles",-1),ra={class:"text-h6"},ma={class:"text-caption text-grey"},pa=(0,o._)("strong",null,"-",-1),va={key:0,class:"text-primary"};function ga(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-item-section"),c=(0,o.up)("q-item"),u=(0,o.up)("q-list"),r=(0,o.up)("q-card-section"),m=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o.Wm)(n,{label:"Inscribir a periodo",unelevated:"",color:"primary","no-caps":"",onClick:s.openDialog},null,8,["onClick"]),(0,o.Wm)(p,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[ua,(0,o.Wm)(u,{separator:""},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.periodos,((e,a)=>((0,o.wg)(),(0,o.j4)(c,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",ra,(0,j.zw)(e.name),1),(0,o._)("div",ma,[(0,o.Uk)((0,j.zw)(e.startDate)+" ",1),pa,(0,o.Uk)(" "+(0,j.zw)(e.endDate),1)]),e.actual?((0,o.wg)(),(0,o.iD)("div",va,"Actual")):(0,o.kq)("",!0)])),_:2},1024),(0,o.Wm)(d,{side:""},{default:(0,o.w5)((()=>[(0,o.Wm)(n,{label:"Inscribir a periodo",unelevated:"",color:"primary",size:"sm","no-caps":"",onClick:a=>s.inscribir(e)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),256))])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])}t(8603);const _a={props:["yainscrito","student"],setup(e,a){const t=(0,u.Z)(),s=(0,r.oR)(),l=((0,m.tv)(),(0,o.f3)("$_")),i=(0,c.iH)(!1),n=()=>{i.value=!0,g()},d=[],p=()=>{for(var a in e.yainscrito)d.push(JSON.parse(JSON.stringify(e.yainscrito[a].periodo)))};p();const v=(0,c.iH)([]),g=async()=>{const e=await s.dispatch("api/GetAllData","periodos");let a=d.filter((a=>e.some((e=>a._id===e._id))));for(var t in a)l.remove(e,a[t]);v.value=e},_=async o=>{const l={coll:"asignaciones",periodo:{_id:o._id,link:"periodos"},estudiante:{_id:e.student._id,link:"estudiantes"}};await s.dispatch("api/SaveItem",l);i.value=!1,t.notify("Estudiante inscrito a periodo"),a.emit("updated")};return{dialog:i,openDialog:n,periodos:v,inscribir:_}}},wa=(0,D.Z)(_a,[["render",ga]]),ya=wa;H()(_a,"components",{QBtn:I.Z,QDialog:ze.Z,QCard:Z.Z,QCardSection:U.Z,QList:Ie.Z,QItem:Se.Z,QItemSection:He.Z});const fa={class:"text-center q-mt-md"},xa={key:0,class:"text-caption text-grey"},qa=(0,o._)("div",{class:"text-caption"},"Periodos disponibles",-1);function ba(e,a,t,s,l,i){const n=(0,o.up)("q-btn"),d=(0,o.up)("q-card-section"),c=(0,o.up)("q-card"),u=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.iD)("div",fa,[t.asignacion.asesores?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[t.asignacion.asesores[0].length+t.asignacion.asesores[1].length>0?((0,o.wg)(),(0,o.iD)("div",xa,"Para eliminar, primero desvincular asesores.")):((0,o.wg)(),(0,o.j4)(n,{key:1,label:"Eliminar inscripción a periodo",unelevated:"",color:"grey","no-caps":"",onClick:s.openDialog,size:"sm"},null,8,["onClick"]))],64)):(0,o.kq)("",!0),(0,o.Wm)(u,{modelValue:s.dialog,"onUpdate:modelValue":a[0]||(a[0]=e=>s.dialog=e)},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"shadow-24"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[qa])),_:1})])),_:1})])),_:1},8,["modelValue"])])}const ka={props:["asignacion"],setup(e,a){const t=(0,u.Z)(),s=(0,r.oR)(),l=((0,m.tv)(),(0,o.f3)("$_"),(0,c.iH)(!1)),i=((0,c.iH)(0),()=>{t.dialog({title:"Eliminar periodo",message:"Se eliminará la inscripción al periodo <strong>"+e.asignacion.periodo.name+"</strong>",html:!0,cancel:"Cancelar",ok:"Eliminar"}).onOk((()=>{n()}))}),n=async()=>{await s.dispatch("api/RemoveItem",["asignaciones","_id",e.asignacion._id]);t.notify("Inscripción a periodo eliminada"),a.emit("updated")};return{dialog:l,openDialog:i}}},Wa=(0,D.Z)(ka,[["render",ba]]),ha=Wa;H()(ka,"components",{QBtn:I.Z,QDialog:ze.Z,QCard:Z.Z,QCardSection:U.Z});const Va={components:{datesprogress:Ze.Z,administrarAsesores:Le,eliminarAsesor:ca,periodoInscribir:ya,periodoDesinscribir:ha},props:["student"],setup(e){const a=(0,u.Z)(),t=(0,r.oR)(),s=((0,m.tv)(),(0,o.f3)("$_")),l=(0,c.iH)(!0),i=(0,c.iH)(e.student),n=(0,c.iH)([]),d=((0,c.iH)(!1),async()=>{for(var e in l.value=!0,n.value=[],n.value=await t.dispatch("api/GetAllDataFiltered",["asignaciones","estudiante",i.value._id]),n.value)p(e);l.value=!1});d();const p=async e=>{l.value=!0;const a=n.value[e];a.activeDates=!1,n.value[e].asesores=null;const o=await t.dispatch("api/GetAllDataFiltered",["asesores","asignacion",a._id]);n.value[e].asesores=await s.partition(o,(e=>"director"===e.tipo)),l.value=!1},v=async e=>{var o={_id:e._id,coloquio1:e.coloquio1,coloquio2:e.coloquio2,candidatura:e.candidatura,coll:"asignaciones"};await t.dispatch("api/SaveItem",o);a.notify("Fechas guardadas"),e.activeDates=!1};return{periodosAsignados:n,loadItems:d,loadAsesores:p,saveDates:v,loading:l}}};var Da=t(3944),Za=t(1860);const Ua=(0,D.Z)(Va,[["render",De]]),Aa=Ua;H()(Va,"components",{QCard:Z.Z,QCardSection:U.Z,QToggle:C.Z,QTooltip:la.Z,QInput:Q.Z,QPopupProxy:Da.Z,QDate:Za.Z,QBtn:I.Z,QCheckbox:Ye.Z});const Ca={components:{estudianteCuenta:E,estudianteInformacion:J,estudiantePeriodos:Aa},setup(){(0,u.Z)();const e=(0,r.oR)(),a=((0,m.tv)(),(0,m.yj)()),t=(0,c.iH)(null),o=async()=>{const o={coll:"estudiantes",id:a.params.id},s=await e.dispatch("api/GetSingleData",o);t.value=s[0]};return o(),{student:t}}};var Qa=t(4379);const za=(0,D.Z)(Ca,[["render",d]]),Ia=za;H()(Ca,"components",{QPage:Qa.Z})}}]);